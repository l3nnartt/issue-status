(this["webpackJsonpissue-status"]=this["webpackJsonpissue-status"]||[]).push([[0],{216:function(e,n,t){"use strict";t.r(n);var a,o,r,s,i,c,l,u,d,b,m,p,g,j,h,f,x,O,v,w,S,k,_,y,M,N,L,D=t(0),I=t.n(D),F=t(78),C=t.n(F),E=(t(92),t(4)),J=t(2),Y=t(86),T=t(5),z=t(3),A=(t(93),z.a.div(a||(a=Object(J.a)(["\n  width: 100%;\n  height: 44px;\n  border-radius: 3px;\n\n  :not(:last-child) {\n    margin-bottom: 8px;\n  }\n"])))),P=t(82),U=t.n(P),W=t(83),B=new U.a(W),H={operational:{name:"Operational",locName:B.components.operational,backgroundColour:"rgba(61, 167, 81, 0.1)"},performanceIssues:{name:"Performance Issues",locName:B.components.performanceIssues,backgroundColour:"rgba(73, 144, 226, 0.1)"},partialOutage:{name:"Partial Outage",locName:B.components.partialOutage,backgroundColour:"rgba(192, 138, 45, 0.1)"},majorOutage:{name:"Major Outage",locName:B.components.majorOutage,backgroundColour:"rgba(217, 68, 48, 0.1)"},maintenance:{name:"Maintenance",locName:B.components.maintenance,backgroundColour:"rgba(96, 96, 96, 0.1)"},unknown:{name:"Unknown",locName:B.components.unknown,backgroundColour:"rgba(177, 177, 177, 0.1)"}},K=function(e){var n=Object(D.useState)(),t=Object(E.a)(n,2),a=t[0],o=t[1];return Object(D.useEffect)((function(){o(Object.values(H).find((function(n){return e.find((function(e){return e.name===n.name.toLowerCase()}))})))}),[e]),a||o(H.unknown),[a]},R=t(1),G=z.a.div(o||(o=Object(J.a)(["\n  background-color: ",";\n  padding: 5px 12px;\n  border-radius: 16px;\n  font-size: 13px;\n  transition: 0.3s;\n"])),(function(e){return e.backgroundColour})),Z=function(e){var n=e.labels,t=K(n),a=Object(E.a)(t,1)[0];return Object(R.jsx)(G,{className:"component-status ".concat(null===a||void 0===a?void 0:a.name.toLowerCase().replace(" ","")),backgroundColour:null===a||void 0===a?void 0:a.backgroundColour,children:null===a||void 0===a?void 0:a.locName})},$=t(84),q=t.n($),Q=function(e,n){var t=Object(D.useState)(),a=Object(E.a)(t,2),o=a[0],r=a[1];return Object(D.useEffect)((function(){var t=e.title;r(n.filter((function(e){var n=e.title.split(":");return e.labels.find((function(e){return"subcomponent"===e.name}))&&n.length>0&&n[0]===t})))}),[e,n]),o},V=z.a.div(r||(r=Object(J.a)(["\n  padding: 8px 16px;\n  border-radius: 3px;\n  justify-content: space-between;\n  align-items: center;\n  display: flex;\n\n  :not(:last-child) {\n    margin-bottom: 8px;\n  }\n"]))),X=function(e){var n=e.component,t=e.components,a=Object(D.useState)(!1),o=Object(E.a)(a,2),r=o[0],s=o[1],i=Q(n,t);if(n.labels.find((function(e){return"subcomponent"===e.name})))return null;if((null===i||void 0===i?void 0:i.length)>0&&!n.labels.find((function(e){return"maintenance"===e.name}))){var c=null===i||void 0===i?void 0:i.map((function(e){return Object(R.jsxs)(V,{className:"component collapsed",children:[Object(R.jsxs)("div",{children:[e.title.split(":")[1],e.body?Object(R.jsx)("span",{className:"component-body",children:e.body}):null]}),Object(R.jsx)(Z,{labels:e.labels})]},e.id)}));return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)(V,{onClick:function(){return s(!r)},className:"component children",children:[Object(R.jsxs)("div",{children:[n.title,Object(R.jsx)("span",{className:"component-dropdown",children:r?"\u25ba":"\u25bc"}),n.body?Object(R.jsx)("span",{className:"component-body",children:n.body}):null]}),Object(R.jsx)(Z,{labels:n.labels})]}),Object(R.jsx)(q.a,{theme:{collapse:"collapse-component",content:"collapse-content"},isOpened:r,children:c})]})}return Object(R.jsxs)(V,{className:"component",children:[Object(R.jsxs)("div",{children:[n.title,n.body?Object(R.jsx)("span",{className:"component-body",children:n.body}):null]}),Object(R.jsx)(Z,{labels:n.labels})]})},ee=function(){var e=Object(D.useState)(),n=Object(E.a)(e,2),t=n[0],a=n[1];return Object(D.useEffect)((function(){a(!0)}),[]),[t]},ne=function(e){var n=e.loading,t=e.components,a=ee(),o=Object(E.a)(a,1)[0];return!n||o?(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t.sort((function(e,n){return e.title.localeCompare(n.title)})).map((function(e){return Object(R.jsx)(X,{component:e,components:t},e.id)})):Object(R.jsx)("p",{children:B.error.nocomponents}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(A,{}),Object(R.jsx)(A,{}),Object(R.jsx)(A,{})]})},te=z.a.div(s||(s=Object(J.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 16px;\n"]))),ae=z.a.a(i||(i=Object(J.a)(["\n  font-size: 13px;\n  display: ",";\n"])),(function(e){return e.visible?"block":"none"})),oe=function(){return Object(R.jsxs)(te,{children:[Object(R.jsx)(ae,{visible:!0,href:"https://www.timolia.de/imprint",rel:"noopener",target:"_blank",children:B.general.imprint}),Object(R.jsx)(ae,{visible:!0,href:"https://github.com/tadhglewis/issue-status",rel:"noopener",target:"_blank",children:B.general.branding})]})},re=(z.a.h1(c||(c=Object(J.a)(["\n  text-align: center;\n  margin-top: 0;\n  margin-bottom: 0;\n"]))),z.a.img(l||(l=Object(J.a)([""])))),se=z.a.div(u||(u=Object(J.a)(["\n  text-align: center;\n  margin-bottom: 16px;\n"]))),ie=function(){return Object(R.jsx)(se,{className:"app-header",children:Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(re,{className:"light-logo",src:"https://raw.githubusercontent.com/l3nnartt/status/master/public/logo.png",alt:"Timolia Status"}),Object(R.jsx)(re,{className:"dark-logo",src:"https://raw.githubusercontent.com/l3nnartt/status/master/public/logo.png",alt:"Timolia Status"})]})})},ce=t(14),le=t.n(ce),ue=t(85),de=t.n(ue),be=z.a.div(d||(d=Object(J.a)(["\n  transition: 0.3s;\n  border-left: 16px solid\n    ",";\n  border-radius: 3px;\n  padding: 16px;\n  box-shadow: 0px 0px 33px -32px rgba(0, 0, 0, 0.75);\n  margin-top: 8px;\n\n  :not(:last-child) {\n    margin-bottom: 16px;\n  }\n"])),(function(e){return e.active?"rgba(177, 177, 177,0.2)":"rgba(213, 119, 51, 0.25)"})),me=z.a.div(b||(b=Object(J.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 3px;\n"]))),pe=z.a.h3(m||(m=Object(J.a)(["\n  margin-right: 16px;\n  font-weight: bold;\n  margin-bottom: 8px;\n  margin-top: 0;\n"]))),ge=z.a.div(p||(p=Object(J.a)(["\n  white-space: break-spaces;\n"]))),je=z.a.div(g||(g=Object(J.a)(["\n  background-color: ",";\n  padding: 5px 12px;\n  border-radius: 16px;\n  font-size: 13px;\n  transition: 0.3s;\n"])),(function(e){return e.active?"rgba(96, 96, 96, 0.1)":"rgba(73, 144, 226, 0.1)"})),he=z.a.div(j||(j=Object(J.a)(["\n  font-size: 13px;\n  color: #6e6b6b;\n  font-weight: bold;\n"]))),fe=function(e){var n=e.incident;return Object(R.jsxs)(be,{className:"incident-container",active:n.closed_at,children:[Object(R.jsxs)(me,{children:[Object(R.jsx)(he,{children:le()(n.created_at).format("LLL").toUpperCase()}),Object(R.jsx)(je,{className:n.closed_at?"incident-status":"activeIncident incident-status",active:n.closed_at,children:n.closed_at?B.incidents.closed:B.incidents.active})]}),Object(R.jsx)(pe,{children:n.title}),Object(R.jsx)(ge,{children:Object(R.jsx)(de.a,{className:"incident",children:n.body})})]})},xe=z.a.div(h||(h=Object(J.a)(["\n  width: 100%;\n  height: 84px;\n  border-radius: 3px;\n  background-color: white;\n  box-shadow: 0px 0px 33px -32px rgba(0, 0, 0, 0.75);\n\n  :not(:last-child) {\n    margin-bottom: 8px;\n  }\n"]))),Oe=z.a.div(f||(f=Object(J.a)(["\n  margin: 32px auto 0 auto;\n  max-width: 1040px;\n"]))),ve=z.a.div(x||(x=Object(J.a)(["\n  padding: 0 16px;\n  font-size: 20px;\n  margin-bottom: 16px;\n"]))),we=z.a.div(O||(O=Object(J.a)(["\n  margin: 0 8px;\n"]))),Se=function(e){var n=e.loading,t=e.incidents,a=ee(),o=Object(E.a)(a,1)[0];return Object(R.jsxs)(Oe,{children:[Object(R.jsx)(ve,{children:B.incidents.title}),!n||o?(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t.map((function(e){return Object(R.jsx)(fe,{incident:e},e.id)})):Object(R.jsx)(we,{children:B.error.noincidents}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(xe,{className:"incident-skeleton"}),Object(R.jsx)(xe,{className:"incident-skeleton"}),Object(R.jsx)(xe,{className:"incident-skeleton"})]})]})},ke={operational:{message:B.status.operational,name:"operational"},issues:{message:B.status.issues,name:"issues"},outage:{message:B.status.outage,name:"outage"}},_e=function(e,n){return 100*e.filter((function(e){return e.labels.find((function(e){return e.name===n}))})).length/e.length},ye=function(e){var n=Object(D.useState)(),t=Object(E.a)(n,2),a=t[0],o=t[1];return Object(D.useEffect)((function(){var n=!1;_e(e,"operational")<100&&(o(ke.issues),n=!0),_e(e.filter((function(e){return!e.labels.find((function(e){return"subcomponent"===e.name}))})),"major outage")>0&&(o(ke.outage),n=!0),n||o(ke.operational)}),[e]),[a]},Me=function(e,n){var t=Object(D.useState)(le()(new Date(localStorage.getItem("issueStatusLastFetchcomponent"))).fromNow()),a=Object(E.a)(t,2),o=a[0],r=a[1];return Object(D.useEffect)((function(){var n=setInterval((function(){new Date(localStorage.getItem("issueStatusLastFetchcomponent"))<new Date-24e4?e((function(){r(le()(new Date(localStorage.getItem("issueStatusLastFetchcomponent"))).fromNow())})):r(le()(new Date(localStorage.getItem("issueStatusLastFetchcomponent"))).fromNow())}),1e3);return function(){clearInterval(n)}}),[e]),Object(D.useEffect)((function(){r(le()(new Date(localStorage.getItem("issueStatusLastFetchcomponent"))).fromNow())}),[n]),[o]},Ne=z.a.div(v||(v=Object(J.a)(["\n  background-color: ",";\n  color: white;\n  padding: 16px;\n  border-radius: 3px;\n  margin-bottom: 32px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  transition: 0.3s;\n"])),(function(e){return e.backgroundColour?e.backgroundColour:"#b1b1b1"})),Le=z.a.h2(w||(w=Object(J.a)(["\n  font-size: 20px;\n  margin: 0;\n  font-weight: normal;\n"]))),De=z.a.span(S||(S=Object(J.a)(["\n  background-color: transparent;\n  text-align: right;\n  padding: 0;\n  font-size: 13px;\n"]))),Ie=z.a.button(k||(k=Object(J.a)(["\n  background-color: transparent;\n  color: white;\n  text-decoration: underline;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n"]))),Fe=z.a.code(_||(_=Object(J.a)(["\n  white-space: pre-wrap;\n  display: block;\n"]))),Ce=function(e){var n=e.loading,t=e.error,a=e.components,o=e.refetch,r=ye(a),s=Object(E.a)(r,1)[0],i=Me(o,n),c=Object(E.a)(i,1)[0];return Object(R.jsxs)(R.Fragment,{children:[t.hasError&&Object(R.jsxs)(Fe,{children:[Object(R.jsx)("div",{children:B.error.message.title}),Object(R.jsx)("div",{children:B.error.message.body}),JSON.stringify(t.errors,null,3)]}),Object(R.jsxs)(Ne,{className:"status-bar ".concat(null===s||void 0===s?void 0:s.name),backgroundColour:null===s||void 0===s?void 0:s.backgroundColour,children:[Object(R.jsx)(Le,{children:null===s||void 0===s?void 0:s.message}),Object(R.jsxs)(De,{children:[B.general.refresh,Object(R.jsx)(Ie,{onClick:o,children:n?B.general.refreshing:c})]})]})]})},Ee=function(e,n,t,a){e(!0),fetch("https://api.github.com/repos/".concat("l3nnartt/status","/issues?state=all&labels=issue status,").concat(a)).then((function(e){return e.json()})).then((function(o){n(),localStorage.setItem("issueStatusLastFetch".concat(a),new Date),localStorage.setItem("issueStatus".concat(a),JSON.stringify(o)),t(o),e(!1)})).catch((function(o){n(o.toString()),localStorage.setItem("issueStatusLastFetch".concat(a),new Date),t(JSON.parse(localStorage.getItem("issueStatus".concat(a)))),e(!1)}))},Je=function(e){var n=Object(D.useState)([]),t=Object(E.a)(n,2),a=t[0],o=t[1],r=Object(D.useState)(),s=Object(E.a)(r,2),i=s[0],c=s[1],l=Object(D.useState)(!0),u=Object(E.a)(l,2),d=u[0],b=u[1];return Object(D.useEffect)((function(){new Date(localStorage.getItem("issueStatusLastFetch".concat(e)))<new Date-24e4?Ee(b,c,o,e):(o(JSON.parse(localStorage.getItem("issueStatus".concat(e)))),b(!1),c())}),[e]),[d,i,a||[],function(){return Ee(b,c,o,e)}]},Ye=z.a.div(y||(y=Object(J.a)(["\n  max-width: 1008px;\n  padding: 16px;\n  margin: 16px auto;\n"]))),Te=z.a.div(M||(M=Object(J.a)(["\n  box-shadow: 0px 0px 33px -32px rgba(0, 0, 0, 0.75);\n  border-radius: 3px;\n  padding: 16px;\n"]))),ze=z.a.div(N||(N=Object(J.a)(["\n  text-align: center;\n  margin: 75px 0;\n"]))),Ae=z.a.h1(L||(L=Object(J.a)(["\n  font-size: 42pt;\n  margin: 0;\n"]))),Pe=function(){document.getElementsByTagName("html")[0].setAttribute("lang",B.getLanguage());var e=Je("component"),n=Object(E.a)(e,4),t=n[0],a=n[1],o=n[2],r=n[3],s=Je("incident"),i=Object(E.a)(s,4),c=i[0],l=i[1],u=i[2],d=i[3];return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)(Te,{className:"components-container",children:[Object(R.jsx)(Ce,{loading:t||c,error:{hasError:a||l,errors:{componentsError:a,incidentsError:l}},components:o,refetch:function(){r(),d()}}),Object(R.jsx)(ne,{loading:t,components:o})]}),Object(R.jsx)(Se,{loading:c,incidents:u})]})},Ue=function(){return Object(R.jsxs)(ze,{children:[Object(R.jsx)(Ae,{children:B.error.notfound.title}),Object(R.jsx)("p",{children:B.error.notfound.description}),Object(R.jsx)("p",{children:Object(R.jsx)("a",{href:"/",children:B.error.notfound.link})})]})},We=function(){return Object(R.jsxs)(Ye,{children:[Object(R.jsx)(ie,{}),Object(R.jsx)(Y.a,{children:Object(R.jsxs)(T.c,{children:[Object(R.jsx)(T.a,{path:"/",exact:!0,component:Pe}),Object(R.jsx)(T.a,{path:"**",component:Ue})]})}),Object(R.jsx)(oe,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Be(e,n,t,a){var o={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return n?o[t][0]:o[t][1]}le.a.locale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm [Uhr]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT",sameElse:"L",nextDay:"[Morgen um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gestern um] LT",lastWeek:"[letzten] dddd [um] LT"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:Be,mm:"%d Minuten",h:Be,hh:"%d Stunden",d:Be,dd:Be,M:Be,MM:Be,y:Be,yy:Be},ordinal:"%d.",week:{dow:1,doy:4}}),le.a.locale(B.getLanguage()),C.a.render(Object(R.jsx)(I.a.StrictMode,{children:Object(R.jsx)(We,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},83:function(e){e.exports=JSON.parse('{"en":{"error":{"noincidents":"No incidents found","nocomponents":"No components found","message":{"title":"An error occurred","body":"You may have exceeded the rate limit. Please try again in one hour."},"notfound":{"title":"404","description":"Seems like this page does not exist.","link":"Return"}},"general":{"refresh":"Last refresh: ","refreshing":"refreshing...","imprint":"Imprint","branding":"Powered by Issue Status"},"incidents":{"title":"Incidents","closed":"Resolved","active":"Active"},"components":{"operational":"Operational","performanceIssues":"Performance Issues","partialOutage":"Restricted","majorOutage":"Major Outage","maintenance":"Maintenance","unknown":"Unknown"},"status":{"operational":"All Systems Operational","issues":"Some systems are experiencing issues","outage":"Some systems are experiencing an outage"}},"de":{"error":{"noincidents":"Keine Meldungen gefunden","nocomponents":"Keine Komponenten gefunden","message":{"title":"Ein Fehler ist aufgetreten","body":"Du hast eventuell das Anfragenlimit \xfcberschritten. Bitte versuche es in einer Stunde erneut."},"notfound":{"title":"404","description":"Scheint so, als h\xe4ttest du dich verlaufen.","link":"Zur\xfcck zur Startseite"}},"general":{"refresh":"Zuletzt aktualisiert: ","refreshing":"laden ...","imprint":"Impressum","branding":"Powered by Issue Status"},"incidents":{"title":"Meldungen","closed":"Gel\xf6st","active":"Aktiv"},"components":{"operational":"Funktionsf\xe4hig","performanceIssues":"Leistungsprobleme","partialOutage":"Eingeschr\xe4nkt","majorOutage":"Ausfall","maintenance":"Wartungen","unknown":"Unbekannt"},"status":{"operational":"Alle Systeme funktionsf\xe4hig","issues":"Einige Systeme haben Probleme","outage":"Einige Systeme melden einen Ausfall"}}}')},92:function(e,n,t){},93:function(e,n,t){}},[[216,1,2]]]);
//# sourceMappingURL=main.5d1f423b.chunk.js.map